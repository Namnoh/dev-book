---
const SPAIN = 'ES'

const country = Astro.request.headers.get('X-Vercel-IP-Country') ?? 'ES';

const storeCountry = country === SPAIN ? 'spain' : 'usa';
const language = country === SPAIN ? 'Spanish' : 'English';

const { buy } = Astro.props;
const url = buy[storeCountry];
---

<a
    class="text-balance bg-green-300 hover:bg-green-600 hover:text-white py-2 px-4 rounded-lg font-medium hover:font-semibold transition duration-200 ease-in-out hover:scale-105"
    href={url}
    target="_blank"
>
    Buy in {language}
</a>